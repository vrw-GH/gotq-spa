"use strict";(self["webpackChunkgotq_spa"]=self["webpackChunkgotq_spa"]||[]).push([[371],{3710:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(6956),u=n(2456);const s=e=>((0,r.dD)("data-v-70668570"),e=e(),(0,r.Cn)(),e),l=s((()=>(0,r._)("br",null,null,-1))),o={class:"leftmenu"},a=["onClick"],c={ref:"aScrolTo"},i=s((()=>(0,r._)("h2",null,"Quotes",-1))),h={href:"#"};function g(e,t,n,s,g,p){const f=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("section",null,[(0,r._)("header",null,[(0,r._)("h1",null,[(0,r.Uk)((0,u.zw)(p.currentPersonName||"GOT - Persons")+" ",1),l,(0,r.Wm)(f,{to:"/houses/"+p.currentPersonHouse?.slug},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)(p.currentPersonHouse?.name||""),1)])),_:1},8,["to"])])]),(0,r._)("article",null,[(0,r._)("nav",o,[(0,r._)("input",{type:"search",name:"search",placeholder:"Search",title:"Start typing a Name or House",autocomplete:"off",autofocus:"",onKeyup:t[0]||(t[0]=e=>p.filterPersons(e.target.value))},null,32),(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.listPersons,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.slug},[(0,r._)("a",{onClick:t=>p.setCurrentSlug(e.slug)},[(0,r.Uk)((0,u.zw)(e.slug)+" - ",1),(0,r._)("i",null,[(0,r._)("small",null,(0,u.zw)(e.house?.slug),1)])],8,a)])))),128))])]),(0,r._)("ul",c,[i,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.currentPersonQuotes,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r._)("a",h,(0,u.zw)(e),1)])))),128)),p.currentPersonName?((0,r.wg)(),(0,r.iD)("input",{key:0,type:"button",value:"Change Quotes",onClick:t[1]||(t[1]=e=>{p.changeQuotes(),p.gotoTop()})})):(0,r.kq)("",!0)])])])}var p=n(7816);const f=(0,p.iH)([]);let w=(0,p.iH)([]),m=(0,p.iH)([]);var v={data(){const e=async()=>{const e=await fetch("https://api.gameofthronesquotes.xyz/v1/characters"),t=await e.json(),n=t.sort(((e,t)=>e.slug-t.slug));w.value=f.value=n};return e(),{listPersons:w,currentSlug:null}},methods:{setCurrentSlug(e){this.currentSlug=e},filterPersons(e){return w.value=""===e?f.value:f.value.filter((t=>-1!==t.name.toLowerCase().search(e.toLowerCase().trim()))),null},changeQuotes(){if(null!==this.currentperson){const e=async()=>{const e=await fetch("https://api.gameofthronesquotes.xyz/v1/random/3"),t=await e.json();m.value=t.map((e=>e.sentence))};return e(),m}return null},gotoTop(){this.$nextTick((()=>this.$refs.aScrolTo.scrollTo(0,0)))}},computed:{currentperson(){if(null!==this.currentSlug){const e=this.listPersons.filter((e=>e.slug===this.currentSlug));if(1===e.length)return m.value=e[0].quotes,e[0]}return null},currentPersonName(){return null!==this.currentperson?this.currentperson.name:null},currentPersonHouse(){return null!==this.currentperson?this.currentperson.house?this.currentperson.house:" - - ":null},currentPersonQuotes(){return null!==this.currentperson?m.value:null}}},_=n(9239);const k=(0,_.Z)(v,[["render",g],["__scopeId","data-v-70668570"]]);var d=k}}]);
//# sourceMappingURL=persons.d6fcbd7a.js.map