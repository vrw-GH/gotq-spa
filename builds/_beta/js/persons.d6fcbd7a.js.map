{"version":3,"file":"js/persons.d6fcbd7a.js","mappings":"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","sources":["webpack://gotq-spa/./src/views/PersonsView.vue","webpack://gotq-spa/./src/views/PersonsView.vue?38f9"],"sourcesContent":["<!-- eslint-disable prettier/prettier -->\n<template>\n  <!-- <div class=\"main\"> -->\n  <section>\n    <header>\n      <h1>\n        {{ currentPersonName || \"GOT - Persons\" }}\n        <br>\n        <!-- <a @click=\"gotoHouse(currentPersonHouse.slug)\">{{ currentPersonHouse?.name || \"\" }}</a> -->\n        <!-- <a :href=\"'/houses/' + currentPersonHouse?.slug\">{{ currentPersonHouse?.name || \"\" }}</a> -->\n        <router-link :to=\"'/houses/' + currentPersonHouse?.slug\">{{ currentPersonHouse?.name || \"\" }}</router-link>\n      </h1>\n    </header>\n\n    <article>\n      <nav class=\"leftmenu\">\n        <input type=\"search\" name=\"search\" placeholder=\"Search\" title=\"Start typing a Name or House\" autocomplete=\"off\"\n          autofocus @keyup=\"filterPersons($event.target.value)\" />\n        <ul>\n          <li v-for=\" person  in  listPersons \" :key=\"person.slug\">\n            <a @click=\"setCurrentSlug(person.slug)\">\n              {{ person.slug }} - <i><small>{{ person.house?.slug }}</small>\n              </i>\n            </a>\n          </li>\n        </ul>\n      </nav>\n\n      <ul :ref=\"'aScrolTo'\">\n        <h2>Quotes</h2>\n        <li v-for=\" quote  in  currentPersonQuotes \" v-bind:key=\"quote.id\">\n          <a href=\"#\">{{ quote }}</a>\n        </li>\n        <input v-if=\"currentPersonName\" type=\"button\" value=\"Change Quotes\" v-on:click=\"changeQuotes(); gotoTop();\" />\n      </ul>\n    </article>\n  </section>\n\n  <!-- </div> -->\n</template>\n\n<script lang=\"js\">\n\nimport { ref } from \"vue\";\nconst allPersons = ref([]);\nlet listPersons = ref([]);\nlet currentQuotes = ref([]);\n\nexport default {\n  data() {\n    const getData = async () => {\n      const res = await fetch(\"https://api.gameofthronesquotes.xyz/v1/characters\");\n      const finalRes = await res.json();\n      const sortedRes = finalRes.sort((a, b) => { return a.slug - b.slug });\n      listPersons.value = allPersons.value = sortedRes;\n    }\n    getData();\n    return {\n      listPersons,\n      currentSlug: null,\n    };\n  },\n  methods: {\n    setCurrentSlug(slug) {\n      this.currentSlug = slug;\n    },\n    filterPersons(filterSlug) {\n      listPersons.value = (filterSlug === \"\") ? allPersons.value :\n        allPersons.value.filter((h) => {\n          // return h.slug === filterSlug.toLowerCase().trim()\n          return h.name.toLowerCase().search(filterSlug.toLowerCase().trim()) !== -1\n        });\n      return null;\n    },\n    changeQuotes() {\n      if (this.currentperson !== null) {\n        const getNewQuotes = async () => {\n          const res = await fetch(\"https://api.gameofthronesquotes.xyz/v1/random/3\");\n          const finalRes = await res.json();\n          currentQuotes.value = finalRes.map((e) => e.sentence)\n        }\n        getNewQuotes();\n        return currentQuotes;\n      }\n      return null;\n    },\n    gotoTop() {\n      // console.log(this.$refs.aScrolTo);\n      this.$nextTick(() => this.$refs.aScrolTo.scrollTo(0, 0))\n    },\n  },\n  computed: {\n    currentperson() {\n      if (this.currentSlug !== null) {\n        const currentpersonInArray = this.listPersons.filter((h) => {\n          return h.slug === this.currentSlug;\n        });\n        if (currentpersonInArray.length === 1) {\n          currentQuotes.value = currentpersonInArray[0].quotes\n          return currentpersonInArray[0];\n        }\n      }\n      return null;\n    },\n    currentPersonName() {\n      if (this.currentperson !== null) {\n        return this.currentperson.name;\n      }\n      return null;\n    },\n    currentPersonHouse() {\n      if (this.currentperson !== null) {\n        return this.currentperson.house ? this.currentperson.house : \" - - \";\n      }\n      return null;\n    },\n    currentPersonQuotes() {\n      if (this.currentperson !== null) {\n        return currentQuotes.value\n      }\n      return null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\nsection {\n  background-image: url(\"@/assets/persons.png\");\n}\n\nh1 a {\n  margin: 0 0 2rem;\n  color: white;\n  font-size: 2rem;\n  cursor: pointer;\n}\n\narticle li {\n  a {\n    color: white;\n    text-decoration: none;\n    cursor: default;\n  }\n}\n</style>\n","import { render } from \"./PersonsView.vue?vue&type=template&id=70668570&scoped=true\"\nimport script from \"./PersonsView.vue?vue&type=script&lang=js\"\nexport * from \"./PersonsView.vue?vue&type=script&lang=js\"\n\nimport \"./PersonsView.vue?vue&type=style&index=0&id=70668570&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.3.1_vue@3.3.10_webpack@5.89.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70668570\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","ref","href","_createElementBlock","$options","currentPersonName","_hoisted_1","_createVNode","_component_router_link","to","currentPersonHouse","slug","name","_hoisted_2","type","placeholder","title","autocomplete","autofocus","onKeyup","_cache","$event","filterPersons","target","value","_Fragment","_renderList","$data","listPersons","person","key","onClick","setCurrentSlug","_toDisplayString","house","_hoisted_4","_hoisted_5","currentPersonQuotes","quote","id","_hoisted_6","changeQuotes","gotoTop","allPersons","currentQuotes","data","getData","async","res","fetch","finalRes","json","sortedRes","sort","a","b","currentSlug","methods","this","filterSlug","filter","h","toLowerCase","search","trim","currentperson","getNewQuotes","map","e","sentence","$nextTick","$refs","aScrolTo","scrollTo","computed","currentpersonInArray","length","quotes","__exports__","render"],"sourceRoot":""}